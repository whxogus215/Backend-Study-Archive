# Contents Of DB1
- [JDBC 이해](#jdbc-이해)
    - [JDBC의 등장 이유](#jdbc의-등장-이유)
    - [JDBC와 최신 데이터 접근 기술](#jdbc와-최신-데이터-접근-기술)


###### Reference
- **(main)** 인프런 김영한 스프링 DB 1편 : https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-db-1/dashboard

# JDBC 이해

## JDBC의 등장 이유
애플리케이션을 개발할 때 **중요한 데이터는 대부분 데이터베이스에 보관한다.** 웹 서비스이든 앱이든 서비스가 안정적으로
돌아가기 위해서는 클라이언트, 애플리케이션 서버 그리고 DB가 잘 갖추어져 있어야 한다. 따라서 애플리케이션 서버와 DB의
연결은 매우 중요하다.

[그림 1]
[그림 2]

이와 같이 서버와 DB는 다양한 절차를 거치며 데이터를 주고받게 된다. 이 때, DB가 바뀌게 되면 서버에 작성된 DB 접근 관련 코드를
바뀐 DB의 스펙에 맞게 다시 작성해야 한다. 또한 DB마다 커넥션 연결, SQL 전달, 결과를 받는 방법을 새로 학습해야 한다.

**이러한 문제를 해결하기 위해 표준화된 것이 JDBC이다.** JDBC 표준 인터페이스는 자바에서 DB에 접근할 수 있는
방법을 표준화한 자바 API이다. 즉, DB에 CRUD 하는 방법을 제공하는 것이다.

[그림 3]

이처럼 애플리케이션 서버는 구체화된 DB와 연결되지 않고, 추상화된 인터페이스와 연결되어 있다. 이는 SOLID 원칙 중 [DIP](https://github.com/whxogus215/JavaBookArchive/blob/main/OOP-for-Spring/JavaAndOOP.md#ISP-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4-%EB%B6%84%EB%A6%AC-%EC%9B%90%EC%B9%99)를 준수한다.
JDBC는 인터페이스이기 때문에 이 자체로는 동작하지 않는다. 따라서 이 JDBC에서 정의한 기능들을 직접 구현하는 것은 DB 벤더(회사)의 몫이다.
따라서 각각의 DB 회사들은 자신들의 DB에 맞게 구현한 라이브러리를 제공한다. 이를 **JDBC 드라이버**라고 한다. MySQL JDBC 드라이버라면
MySQL DB에 접근할 수 있는 라이브러리이다. **드라이버는 DB가 아니다! 드라이버는 DB와 연결될 수 있도록 돕는 라이브러리에 불과하다.
(JDBC의 구현체)** JDBC 드라이버 뿐만 아니라 실제 DB에 대한 설계가 있어야 한다.

[그림 4]

### 핵심 정리
JDBC로 인해 다음과 같은 문제가 해결되었다.
1. DB가 변경될 때마다 서버에서 **DB 관련 코드를 매번 변경해야 하는 문제**
   - **서버의 애플리케이션 로직은 이제 추상화된 JDBC라는 표준 인터페이스에 의존**하기 때문에 DB가 변경되면 구현체만 바꾸면 된다.
   왜냐하면 **서버의 로직은 JDBC에서 제공하는 코드들로 작성되었기 때문에 DB 구현체의 변동에 영향을 받지 않기 때문이다.**
2. 개발자가 각각의 DB마다 커넥션, SQL 응답 및 결과에 관한 **방법을 새로 학습해야 하는 문제**
   - **개발자는 JDBC 표준 인터페이스의 사용법만 학습하면 된다. 이것만 알면 여러 DB와 연결하는 것에 동일하게 적용할 수 있기 때문이다.**

> 물론 DB마다 사용법이 다른 부분이 분명 존재한다. 즉, JDBC가 표준화를 통해 많은 편리함을 제공하지만 표준화하지 못한 부분도 존재한다.
> 따라서 JDBC 코드는 변경하지 않아도 되지만, SQL 자체를 다르게 써야할 수도 있다. 이를 해결하는 방법이 JPA이며, 매번 SQL을 달리 정의하지 않아도 된다.

## JDBC와 최신 데이터 접근 기술
앞서 JDBC를 통해 많은 것이 표준화됨으로써 개발자의 수고를 덜 수 있다는 장점에 대해 알아보았다. 하지만 **JDBC는
1997년에 출시된 만큼 매우 오래된 기술이고, 사용방법도 복잡하다.** 따라서 최근에는 JDBC를 직접 사용하기 보다는
JDBC를 편리하게 사용할 수 있는 기술들을 사용하는 편이다. 대표적으로 **SQL Mapper와 ORM 기술**이 있다.

[그림 5]

**JPA는 자바 진영의 인터페이스이며, 이를 구현한 것이 존재해야 한다. 대표적인 기술로 하이버네이트(제일 많이 사용), 이클립스 링크 등이 있다.**

### SQL Mapper VS ORM 기술
- SQL Mapper : SQL만 작성할 줄 알면 나머지는 SQL Mapper가 알아서 해준다. **(SQL 알아야 함)**
- ORM : SQL 자체를 작성하지 않아도 클래스를 작성하면 알아서 DB의 테이블과 매핑되기 때문에 기존에 컬렉션(배열, 맵 등)에
데이터를 저장하는 방식으로 메서드를 사용하기만 해도 DB 접근이 가능하다. **(SQL 몰라도 됨 - 다만 기술이 복잡해서 학습 난이도 높음)**

### 핵심 정리
SQL Mapper와 ORM 둘 다 JDBC를 사용하는데 있어서 편리함을 제공해주는 기술들이다. **즉, 어떤 기술을 사용하더라도
JDBC에 대한 이해가 반드시 있어야 하는 것이다.** 위 그림에서 알 수 있듯이 결국 DB와 접근하기 위해서는 JDBC를 거치기 때문이다.
SQL Mapper와 ORM은 그저 서버 어플리케이션과 가까이 있고, 개발자의 편리함에 초점을 맞춘 고수준 기술이기 때문이다.
**즉, DB에 접근하기 위한 다양한 기술들이 존재하지만 핵심은 JDBC라는 것이다.** 